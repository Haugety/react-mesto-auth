{"version":3,"sources":["images/mesto-logo.svg","utils/data.js","utils/api.js","utils/auth.js","components/ProtectedRoute.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Register.js","components/Login.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/CardDeletePopup.js","components/InfoTooltip.js","components/App.js","index.js"],"names":["module","exports","regExp","url","name","email","password","options","baseUrl","baseUrlAuth","headers","authorization","api","removeCard","cardId","fetch","_options","method","then","res","ok","json","Promise","reject","status","changeLikeCardStatus","isLiked","this","data","body","JSON","stringify","about","avatar","link","auth","token","ProtectedRoute","Component","component","props","loggedIn","to","Header","onSignOut","windowWidth","useWindowWidth","React","useState","isMobileMenuOpen","setIsMobileMenuOpen","handleSignOut","className","path","onClick","src","Logo","alt","type","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","userData","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","width","height","viewBox","fill","xmlns","d","map","item","key","Register","onSubmit","inputValues","setInputValues","validationErrors","setValidationErrors","handleInputChange","evt","target","value","includes","test","handleErrors","preventDefault","signupEmailInput","signupPasswordInput","noValidate","placeholder","autoComplete","onChange","onFocus","id","maxLength","required","minLength","disabled","Login","signinEmailInput","signinPasswordInput","err","Footer","PopupWithForm","title","isOpen","onClose","children","EditProfilePopup","onUpdateUser","isLoading","nameInput","descriptionInput","inputName","useEffect","pattern","EditAvatarPopup","onUpdateAvatar","useRef","handleChange","current","ref","AddPlacePopup","text","placeInput","linkInput","ImagePopup","selectedCardLink","selectedCardName","CardDeletePopup","onConfirm","InfoTooltip","fillRule","clipRule","success","fail","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isCardDeletePopupOpen","setIsCardDeletePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","infoTooltipType","setInfoTooltipType","setCards","selectedCard","setSelectedCard","deletedCard","setDeletedCard","currentUser","setCurrentUser","setIsLoading","setLoggedIn","setUserData","history","useHistory","all","getUserInfo","getInitialCards","catch","console","log","handleEscClose","closeAllPopups","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","tockenCheck","useCallback","jwt","localStorage","getItem","getContent","push","removeItem","Provider","newCard","newCards","c","register","authorize","setItem","exact","setUserAvatar","setUserInfo","setCard","filter","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.687115a0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mesto-logo.c6f11019.svg\";","export const regExp = {\n  url: /^(https?|chrome):\\/\\/[^\\s$.?#].[^\\s]*$/gm,\n  name: /^[a-zA-Zа-яёА-ЯЁ ]*$/,\n  email: /.+@.+\\..+/,\n  password: /[\\S]{0,}\\s/\n};\n\nconst options = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  baseUrlAuth: 'https://auth.nomoreparties.co',\n  headers: {\n    authorization: '2cf602a9-f630-4a8e-9437-bb139a960cac',\n    'Content-Type': 'application/json'\n  }\n};\n\nexport default options;\n","import options from './data';\n\nclass Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  getUserInfo() {\n    return fetch(`${this._options.baseUrl}/users/me`, {\n      headers: this._options.headers\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._options.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  setUserAvatar(data) {\n    return fetch(`${this._options.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  getInitialCards() {\n    return fetch(`${this._options.baseUrl}/cards`, {\n      headers: this._options.headers\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  setCard(data) {\n    return fetch(`${this._options.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  removeCard = (cardId) => {\n    return fetch(`${this._options.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._options.headers\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  changeLikeCardStatus = (cardId, isLiked) => {\n    if (!isLiked) {\n\n      return fetch(`${this._options.baseUrl}/cards/likes/${cardId}`, {\n        method: 'PUT',\n        headers: this._options.headers\n      })\n        .then((res) => {\n          if (!res.ok) {\n            return Promise.reject(`Ошибка: ${res.status}`);\n          }\n          return res.json();\n        });\n\n    }\n    else {\n\n      return fetch(`${this._options.baseUrl}/cards/likes/${cardId}`, {\n        method: 'DELETE',\n        headers: this._options.headers\n      })\n        .then((res) => {\n          if (!res.ok) {\n            return Promise.reject(`Ошибка: ${res.status}`);\n          }\n          return res.json();\n        });\n\n    }\n  }\n\n}\n\nconst api = new Api(options);\n\nexport default api;\n","import options from './data';\n\nclass Auth {\n  constructor(options) {\n    this._options = options;\n  }\n\n  register(data) {\n    return fetch(`${this._options.baseUrlAuth}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        password: data.password,\n        email: data.email\n      })\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  authorize(data) {\n    return fetch(`${this._options.baseUrlAuth}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        password: data.password,\n        email: data.email\n      })\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n  getContent(token) {\n    return fetch(`${this._options.baseUrlAuth}/users/me`, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n      });\n  }\n\n}\n\nconst auth = new Auth(options);\n\nexport default auth;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { NavLink, Switch, Route } from 'react-router-dom';\nimport { useWindowWidth } from '@react-hook/window-size';\nimport Logo from '../images/mesto-logo.svg';\n\nfunction Header({ email, onSignOut }) {\n\n  const windowWidth = useWindowWidth();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = React.useState(false);\n\n  function handleSignOut() {\n    onSignOut();\n    setIsMobileMenuOpen(false);\n  }\n\n  function onMobileMenu() {\n    setIsMobileMenuOpen(true);\n  }\n\n  function onMobileClose() {\n    setIsMobileMenuOpen(false);\n  }\n\n  return (\n    <header className=\"header\">\n      <Route path=\"/main\">\n        { windowWidth <= 767\n          ? <div className={`header__mobile-menu ${isMobileMenuOpen ? 'header__mobile-menu_opened' : ''}`}>\n              <h2 className=\"header__email header__email_mobile\">{email}</h2>\n              <NavLink to=\"/signin\" className=\"header__link header__link_mobile\" onClick={handleSignOut}>Выйти</NavLink>\n            </div>\n          : null\n        }\n      </Route>\n      <div className=\"header__main-menu\">\n        <img src={Logo} alt=\"Логотип проекта «Место Россия»\" className=\"header__logo\" />\n        <Switch>\n          <Route path=\"/signup\">\n            <NavLink to=\"/signin\" className=\"header__link\">Войти</NavLink>\n          </Route>\n          <Route path=\"/signin\">\n            <NavLink to=\"/signup\" className=\"header__link\">Регистрация</NavLink>\n          </Route>\n          <Route path=\"/main\">\n            { windowWidth <= 767\n              ? <button\n                  type=\"button\"\n                  className={`header__mobile-button ${isMobileMenuOpen ? 'header__mobile-button_close' : ''}`}\n                  onClick={isMobileMenuOpen ? onMobileClose : onMobileMenu}\n                >\n                </button>\n              : <>\n                  <div className=\"header__info\">\n                    <h2 className=\"header__email\">{email}</h2>\n                    <NavLink to=\"/signin\" className=\"header__link header__link_main\" onClick={handleSignOut}>Выйти</NavLink>\n                  </div>\n                </>\n            }\n\n          </Route>\n        </Switch>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React, { useContext } from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n\n  const userData = useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === userData._id;\n  const cardDeleteButtonClassName = (\n    `trash-button ${isOwn ? 'trash-button_active' : 'trash-button_inactive'}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === userData._id);\n  const cardLikeButtonClassName = (\n    `like-button ${isLiked ? 'like-button_active' : 'like-button_inactive'}`\n  );\n\n  function handleClick() {\n    onCardClick({ link: card.link, name: card.name });\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleRemoveClick() {\n    onCardDelete(card);\n  }\n\n  return (\n\n    <li className=\"cards__element\">\n      <img alt={card.name} className=\"cards__image\" src={card.link} onClick={handleClick} />\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleRemoveClick}></button>\n      <div className=\"cards__row\">\n        <h3 className=\"cards__title\">{card.name}</h3>\n        <div className=\"cards__column\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <span className=\"like-button__amount\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n\n  );\n}\n\nexport default Card;\n","import React, { useContext } from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ cards, onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete }) {\n\n  const userData = useContext(CurrentUserContext);\n\n  return (\n\n    <main className=\"content\">\n\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <img alt=\"Аватар профиля\" src={userData.avatar} className=\"profile__image\" />\n          <button type=\"button\" className=\"profile__edit-avatar\" onClick={onEditAvatar}>\n            <svg className=\"profile__edit-avatar_icon\" width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M26 3.45351L6.76981 22.7932L3.33585 19.2903L22.517 0L26 3.45351ZM0 26L5.10189 24.4706L1.52075 21.0171L0 26Z\" fill=\"white\" />\n            </svg>\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__row\">\n            <h1 className=\"profile__title\">{userData.name}</h1>\n            <button type=\"button\" className=\"edit-button\" onClick={onEditProfile}>\n              <svg className=\"edit-button__icon\" width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M10 1.328L2.604 8.767 1.283 7.419 8.66 0 10 1.328zM0 10l1.962-.588L.585 8.083 0 10z\" fill=\"#fff\" />\n              </svg>\n            </button>\n          </div>\n          <p className=\"profile__subtitle\">{userData.about}</p>\n        </div>\n        <button type=\"button\" className=\"add-button\" onClick={onAddPlace}>\n          <svg className=\"add-button__icon\" width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M22 9.77778H12.2222V0H9.77778V9.77778H0V12.2222H9.77778V22H12.2222V12.2222H22V9.77778Z\" fill=\"white\" />\n          </svg>\n        </button>\n      </section>\n\n      <ul className=\"cards list\">\n        {cards.map((item) => <Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />)}\n      </ul>\n\n    </main>\n\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport { regExp } from '../utils/data';\nimport { NavLink } from 'react-router-dom';\n\nfunction Register({ onSubmit }) {\n  const [inputValues, setInputValues] = React.useState('');\n  const [validationErrors, setValidationErrors] = React.useState(\n    {\n      email: '',\n      password: ''\n    }\n  );\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onSubmit({\n      email: inputValues.signupEmailInput,\n      password: inputValues.signupPasswordInput\n    });\n  }\n\n  function handleErrors(value, type) {\n    if (type === 'password' && value.length < 6) {\n\n      if (value.includes(' ')) {\n        return 'Пароль не должен содержать пробелы';\n      }\n\n      return `Пароль должен быть не короче 6 симв. Длина текста сейчас: ${value.length} симв.`;\n    }\n\n    if (type === 'email' && !regExp.email.test(value)) {\n      return 'Некорректный Email-адрес';\n    }\n\n    return '';\n  }\n\n  function handleInputChange(evt) {\n    const { name, value, type } = evt.target;\n\n    setValidationErrors({ ...validationErrors, [type]: handleErrors(value, type)});\n\n    setInputValues({\n      ...inputValues,\n      [name]: value\n    });\n  }\n\n    return (\n\n      <main className=\"sign\">\n        <h1 className=\"sign__title\">Регистрация</h1>\n        <form className=\"sign-form\" onSubmit={handleSubmit} noValidate>\n          <fieldset className=\"sign-form__set\">\n            <label className=\"sign-form__field\">\n              <input type=\"email\" placeholder=\"Email\" autoComplete=\"on\" className=\"sign-form__input\" onChange={handleInputChange} onFocus={handleInputChange} id=\"signup-email-input\" name=\"signupEmailInput\" maxLength=\"40\" required />\n              <span className=\"sign-form__input-error sign-form__input-error_active\" id=\"name-input-error\">{validationErrors.email}</span>\n            </label>\n            <label className=\"sign-form__field\">\n              <input type=\"password\" placeholder=\"Пароль\" autoComplete=\"off\" className=\"sign-form__input\" onChange={handleInputChange} onFocus={handleInputChange} id=\"signup-password-input\" name=\"signupPasswordInput\" minLength=\"6\" maxLength=\"20\" required />\n              <span className=\"sign-form__input-error sign-form__input-error_active\" id=\"name-input-error\">{validationErrors.password}</span>\n            </label>\n            <button\n              type=\"submit\"\n              className={`sign-form__save-button ${(validationErrors.email || validationErrors.password || !inputValues.signupEmailInput || !inputValues.signupPasswordInput) ? 'sign-form__save-button_inactive' : ''}`}\n              disabled={validationErrors.email || validationErrors.password || !inputValues.signupEmailInput || !inputValues.signupPasswordInput}\n            >\n              Зарегистрироваться\n          </button>\n          </fieldset>\n        </form>\n        <h3 className=\"sign__question\">Уже зарегистрированы? <NavLink to=\"/signin\" className=\"sign__link\">Войти</NavLink></h3>\n      </main>\n\n    );\n  }\n\n  export default Register;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nfunction Login({ onSubmit }) {\n\n  const [inputValues, setInputValues] = React.useState('');\n  const [validationErrors, setValidationErrors] = React.useState('');\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    if (inputValues.signinEmailInput && inputValues.signinPasswordInput) {\n      onSubmit({\n        email: inputValues.signinEmailInput,\n        password: inputValues.signinPasswordInput\n      })\n      .then((err) => {\n        if (err) {\n          setValidationErrors('Неправильно введен логин или пароль');\n        }\n      });\n    }\n  }\n\n  function handleInputChange(evt) {\n    const { name, value } = evt.target;\n\n    setValidationErrors('');\n    setInputValues({\n      ...inputValues,\n      [name]: value\n    });\n  }\n\n  return (\n\n    <main className=\"sign\">\n      <h1 className=\"sign__title\">Вход</h1>\n      <form className=\"sign-form\" onSubmit={handleSubmit} noValidate>\n        <fieldset className=\"sign-form__set\">\n          <label className=\"sign-form__field\">\n            <input type=\"email\" placeholder=\"Email\" autoComplete=\"on\" className=\"sign-form__input\" onChange={handleInputChange} onFocus={handleInputChange} id=\"signin-email-input\" name=\"signinEmailInput\" minLength=\"2\" maxLength=\"40\" required />\n            <span className=\"sign-form__input-error sign-form__input-error_active\" id=\"name-input-error\">{validationErrors}</span>\n          </label>\n          <label className=\"sign-form__field\">\n            <input type=\"password\" placeholder=\"Пароль\" autoComplete=\"off\" className=\"sign-form__input\" onChange={handleInputChange} onFocus={handleInputChange} id=\"signin-password-input\" name=\"signinPasswordInput\" minLength=\"6\" maxLength=\"20\" required />\n            <span className=\"sign-form__input-error sign-form__input-error_active\" id=\"name-input-error\">{validationErrors}</span>\n          </label>\n          <button\n            type=\"submit\"\n            className=\"sign-form__save-button\"\n          >\n            Войти\n          </button>\n        </fieldset>\n      </form>\n      <h3 className=\"sign__question\">Еще не зарегистрированы? <NavLink to=\"/signup\" className=\"sign__link\">Регистрация</NavLink></h3>\n    </main>\n\n  );\n}\n\nexport default Login;\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm({ title, name, isOpen, onClose, onSubmit, children }) {\n\n  return (\n    <section className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <form className={`popup__container popup__container_${name}`} name={name} onSubmit={onSubmit} noValidate>\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <h3 className={`popup__title popup__title_${name}`}>{title}</h3>\n        {children}\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useContext } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { regExp } from '../utils/data';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\n\n  const [inputValues, setInputValues] = React.useState('');\n  const [validationErrors, setValidationErrors] = useState(\n    {\n      nameInput: '',\n      descriptionInput: ''\n    }\n  );\n\n  const userData = useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setInputValues({ nameInput: userData.name, descriptionInput: userData.about });\n    setValidationErrors(\n      {\n        nameInput: '',\n        descriptionInput: ''\n      }\n    );\n  }, [userData, isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name: inputValues.nameInput,\n      about: inputValues.descriptionInput\n    });\n  }\n\n  function handleErrors(value, inputName) {\n    if (value.length < 2) {\n      return `Текст должен быть не короче 2 симв. Длина текста сейчас: ${value.length} симв.`;\n    }\n    else if (inputName === 'nameInput' && !regExp.name.test(value)) {\n      return 'Текст не должен содержать цифры и символы.';\n    }\n\n    return '';\n  }\n\n  function handleInputChange(evt) {\n    const { name, value } = evt.target;\n\n    setValidationErrors({...validationErrors, [name]: handleErrors(value, name)});\n\n    setInputValues({\n      ...inputValues,\n      [name]: value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input type=\"text\" placeholder=\"Введите имя\" value={inputValues.nameInput || ''} onChange={handleInputChange} onFocus={handleInputChange} autoComplete=\"off\" className=\"popup__input popup__input_text_name\" id=\"name-input\" name=\"nameInput\" minLength=\"2\" maxLength=\"40\" required pattern=\"[A-Za-zА-ЯЁа-яё -]{1,}\" />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"name-input-error\">{validationErrors.nameInput}</span>\n        </label>\n        <label className=\"popup__field\">\n          <input type=\"text\" placeholder=\"Введите описание\" value={inputValues.descriptionInput || ''} onChange={handleInputChange} onFocus={handleInputChange} autoComplete=\"off\" className=\"popup__input popup__input_text_description\" id=\"description-input\" name=\"descriptionInput\" minLength=\"2\" maxLength=\"200\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"description-input-error\">{validationErrors.descriptionInput}</span>\n        </label>\n        <button\n          type=\"submit\"\n          className={`popup__save-button ${(validationErrors.nameInput || validationErrors.descriptionInput) || (inputValues.nameInput === userData.name && inputValues.descriptionInput === userData.about) ? 'popup__save-button_inactive' : ''}`}\n          disabled={isLoading || (validationErrors.nameInput || validationErrors.descriptionInput) || (inputValues.nameInput === userData.name && inputValues.descriptionInput === userData.about)}\n        >\n          {isLoading ? 'Сохранение...' : 'Сохранить'}\n        </button>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React, { useRef, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { regExp } from '../utils/data';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n\n  const avatar = useRef('');\n  const [validationErrors, setValidationErrors] = useState('');\n\n  React.useEffect(() => {\n    avatar.current.value = '';\n    setValidationErrors('');\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({\n      avatar: avatar.current.value\n    });\n  }\n\n  function handleChange(evt) {\n    const { value } = evt.target;\n\n    setValidationErrors(regExp.url.test(value) ? '' : 'Некорректный url-адрес');\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input ref={avatar} onChange={handleChange} onFocus={handleChange} type=\"url\" placeholder=\"Ссылка на картинку\" autoComplete=\"off\" className=\"popup__input popup__input_text_link\" id=\"link-avatar-input\" name=\"avatarInput\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"link-avatar-input-error\">{validationErrors}</span>\n        </label>\n        <button\n          type=\"submit\"\n          className={`popup__save-button ${(validationErrors || !(avatar.current.value)) ? 'popup__save-button_inactive' : ''}`}\n          disabled={isLoading || validationErrors || !(avatar.current.value)}\n        >\n          {isLoading ? 'Сохранение...' : 'Сохранить'}\n        </button>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React, { useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { regExp } from '../utils/data';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\n\n  const [inputValues, setInputValues] = React.useState('');\n  const [validationErrors, setValidationErrors] = useState(\n    {\n      text: '',\n      url: ''\n    }\n  );\n\n  React.useEffect(() => {\n    setInputValues({\n      placeInput: '',\n      linkInput: ''\n    });\n    setValidationErrors(\n      {\n        text: '',\n        url: ''\n      }\n    );\n  }, [isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: inputValues.placeInput,\n      link: inputValues.linkInput\n    });\n  }\n\n  function handleErrors(value, type) {\n    if (type === 'text' && value.length < 1) {\n      return `Текст должен быть не короче 1 симв. Длина текста сейчас: ${value.length} симв.`;\n    }\n\n    if (type === 'url' && !regExp.url.test(value)) {\n      return 'Некорректный url-адрес';\n    }\n\n    return '';\n  }\n\n  function handleInputChange(evt) {\n    const { name, value, type } = evt.target;\n\n    setValidationErrors({...validationErrors, [type]: handleErrors(value, type)});\n\n    setInputValues({\n      ...inputValues,\n      [name]: value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Новое место\"\n      name=\"add\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <fieldset className=\"popup__set\">\n        <label className=\"popup__field\">\n          <input type=\"text\" placeholder=\"Название\" value={inputValues.placeInput || ''} onChange={handleInputChange} onFocus={handleInputChange} autoComplete=\"off\" className=\"popup__input popup__input_text_place\" id=\"place-input\" name=\"placeInput\" minLength=\"1\" maxLength=\"30\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"place-input-error\">{validationErrors.text}</span>\n        </label>\n        <label className=\"popup__field\">\n          <input type=\"url\" placeholder=\"Ссылка на картинку\" value={inputValues.linkInput || ''} onChange={handleInputChange} onFocus={handleInputChange} autoComplete=\"off\" className=\"popup__input popup__input_text_link\" id=\"link-input\" name=\"linkInput\" required />\n          <span className=\"popup__input-error popup__input-error_active\" id=\"link-input-error\">{validationErrors.url}</span>\n        </label>\n        <button\n          type=\"submit\"\n          className={`popup__save-button ${(validationErrors.text || validationErrors.url) || !(inputValues.placeInput && inputValues.linkInput) ? 'popup__save-button_inactive' : ''}`}\n          disabled={isLoading || (validationErrors.text || validationErrors.url) || !(inputValues.placeInput && inputValues.linkInput)}\n        >\n          {isLoading ? 'Создание...' : 'Создать'}\n        </button>\n      </fieldset>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup({ isOpen, selectedCardLink, selectedCardName, onClose }) {\n  return (\n\n    <section className={`popup ${isOpen && \"popup_opened\"}`}>\n      <figure className=\"popup__image-container\">\n        <img alt={ selectedCardName } src={ selectedCardLink } className=\"popup__image\" />\n        <figcaption className=\"popup__caption\">{ selectedCardName }</figcaption>\n        <button type=\"button\" className=\"popup__close-button\" onClick={ onClose }></button>\n      </figure>\n    </section>\n\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction CardDeletePopup({ isOpen, onClose, onConfirm, isLoading }) {\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onConfirm();\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Вы уверены?\"\n      name=\"trash\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <button type=\"submit\" className=\"popup__save-button\" disabled={isLoading}>{isLoading ? 'Удаление...' : 'Да'}</button>\n    </PopupWithForm>\n  );\n}\n\nexport default CardDeletePopup;\n","import React from 'react';\n\nfunction InfoTooltip({ isOpen, onClose, type, text }) {\n\n  return (\n    <section className={`popup popup_infotool ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container popup__container_infotool\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose} />\n        {type\n          ? <>\n              <svg className=\"popup__signup-icon\" width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M117 60C117 91.4802 91.4802 117 60 117C28.5198 117 3 91.4802 3 60C3 28.5198 28.5198 3 60 3C91.4802 3 117 28.5198 117 60ZM120 60C120 93.1371 93.1371 120 60 120C26.8629 120 0 93.1371 0 60C0 26.8629 26.8629 0 60 0C93.1371 0 120 26.8629 120 60ZM57.5502 76.888L86.7676 48.888L81.2324 43.112L54.4277 68.7999L39.3496 57.8561L34.6504 64.3305L52.433 77.2372L55.1375 79.2001L57.5502 76.888Z\" fill=\"black\" />\n              </svg>\n              <h3 className=\"popup__title popup__title_infotool\">{text.success}</h3>\n            </>\n          : <>\n              <svg className=\"popup__signup-icon\" width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M60 117C91.4802 117 117 91.4802 117 60C117 28.5198 91.4802 3 60 3C28.5198 3 3 28.5198 3 60C3 91.4802 28.5198 117 60 117ZM60 120C93.1371 120 120 93.1371 120 60C120 26.8629 93.1371 0 60 0C26.8629 0 0 26.8629 0 60C0 93.1371 26.8629 120 60 120ZM55.0503 60.707L36.6655 42.3223L42.3224 36.6654L60.7071 55.0502L78.3848 37.3726L84.0416 43.0294L66.364 60.707L83.3346 77.6776L77.6777 83.3345L60.7071 66.3639L43.0294 84.0416L37.3726 78.3848L55.0503 60.707Z\" fill=\"#FD0707\" />\n              </svg>\n              <h3 className=\"popup__title popup__title_infotool\">{text.fail}</h3>\n            </>}\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport api from '../utils/api';\nimport auth from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport Header from './Header';\nimport Main from './Main';\nimport Register from './Register';\nimport Login from './Login';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport CardDeletePopup from './CardDeletePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isCardDeletePopupOpen, setIsCardDeletePopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [infoTooltipType, setInfoTooltipType] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [selectedCard, setSelectedCard] = React.useState({\n    link: '',\n    name: ''\n  });\n  const [deletedCard, setDeletedCard] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({\n    id: '',\n    email: ''\n  });\n\n  let history = useHistory();\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then((data) => {\n        setCurrentUser(data[0]);\n        setCards(data[1]);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n\n    function handleEscClose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n\n    function closeByOverlay(evt) {\n      if (evt.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('click', closeByOverlay);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n      document.removeEventListener('click', closeByOverlay);\n    }\n  }, []);\n\n  const tockenCheck = React.useCallback(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setUserData({\n              id: res.data._id,\n              email: res.data.email\n            });\n            setLoggedIn(true);\n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          localStorage.removeItem('jwt');\n          setInfoTooltipType(false);\n          setIsInfoTooltipOpen(true);\n          history.push('/signin');\n        });\n    }\n  }, [history, loggedIn]);\n\n  React.useEffect(() => {\n    tockenCheck();\n  }, [tockenCheck]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardDeleteClick() {\n    setIsCardDeletePopupOpen(true);\n  }\n\n  function handleCardClick(selectedCard) {\n    setIsImagePopupOpen(true);\n    setSelectedCard({\n      link: selectedCard.link,\n      name: selectedCard.name\n    });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsCardDeletePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setIsLoading(false);\n  }\n\n  function handleRegister(data) {\n    auth.register(data)\n      .then((res) => {\n        setInfoTooltipType(true);\n        setIsInfoTooltipOpen(true);\n        history.push('/');\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoTooltipType(false);\n        setIsInfoTooltipOpen(true);\n      });\n  }\n\n  function handleAuth(data) {\n    return auth.authorize(data)\n      .then((res) => {\n        setLoggedIn(true);\n        localStorage.setItem('jwt', res.token);\n        history.push('/');\n      })\n      .catch((err) => {\n        console.log(err);\n        setInfoTooltipType(false);\n        setIsInfoTooltipOpen(true);\n        return err;\n      });\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('jwt');\n    history.push('/signin');\n    setLoggedIn(false);\n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true);\n    api.setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    setIsLoading(true);\n    api.setUserAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setIsLoading(true);\n    api.setCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleDeletedCard(card) {\n    setDeletedCard(card);\n    handleCardDeleteClick();\n  }\n\n  function handleDelete() {\n    setIsLoading(true);\n    api.removeCard(deletedCard._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== deletedCard._id);\n        setCards(newCards);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n\n      <div className=\"page\">\n\n        <Header email={userData.email} onSignOut={handleSignOut} />\n\n        <Switch>\n\n          <ProtectedRoute\n            path=\"/main\"\n            component={Main}\n            cards={cards}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeletedCard}\n            loggedIn={loggedIn}\n          />\n\n          <Route path=\"/signup\">\n            <Register onSubmit={handleRegister} />\n          </Route>\n\n          <Route path=\"/signin\">\n            <Login onSubmit={handleAuth} />\n          </Route>\n\n          <Route exact path=\"/\">\n            {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n\n        </Switch>\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        <ImagePopup\n          isOpen={isImagePopupOpen}\n          selectedCardLink={selectedCard.link}\n          selectedCardName={selectedCard.name}\n          onClose={closeAllPopups}\n        />\n\n        <CardDeletePopup\n          isOpen={isCardDeletePopupOpen}\n          onClose={closeAllPopups}\n          onConfirm={handleDelete}\n          isLoading={isLoading}\n        />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          type={infoTooltipType}\n          text={\n            {\n              success: 'Вы успешно зарегистрировались!',\n              fail: 'Что-то пошло не так! Попробуйте еще раз.'\n            }\n          }\n        />\n\n        <Footer />\n\n      </div>\n\n    </CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}